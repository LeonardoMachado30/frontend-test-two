(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6626)}])},6626:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return S}});var t=a(5893),s=a(7294);let l=(0,s.createContext)({loading:!1,setLoading(e){}}),i=(0,s.createContext)({compare:{Pokemon1:null,Pokemon2:null},setCompare(){}});var o=a(5675),d=a.n(o);let c=async e=>await fetch(e).then(e=>e.json()).then(e=>e).catch(e=>{console.log({err:e})});var r=function(e){let{id:n,handleCloseInfo:a}=e,[l,o]=(0,s.useState)(""),[r,u]=(0,s.useState)(!1),{compare:h,setCompare:p}=(0,s.useContext)(i);return(0,s.useEffect)(()=>{document.title="VISUALIZA\xc7\xc2O DE POKEMONS",async function(){await c("https://pokeapi.co/api/v2/pokemon/".concat(n)).then(e=>{o({id:e.id,name:e.name,speed:e.stats[0].base_stat,spDef:e.stats[1].base_stat,spAtk:e.stats[2].base_stat,def:e.stats[3].base_stat,atk:e.stats[4].base_stat,hp:e.stats[5].base_stat,sprite_front:e.sprites.front_default})})}()},[n]),(0,t.jsxs)("ul",{className:"info-container ".concat(""===l?"":"info-transition"),children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"HP: "}),(0,t.jsx)("p",{children:l.hp})]}),"|",(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"ATA: "}),(0,t.jsx)("p",{children:l.atk})]}),"|",(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"DEF: "}),(0,t.jsx)("p",{children:l.def})]}),"|",(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"VEL: "}),(0,t.jsx)("p",{children:l.speed})]}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:"btn-secondary",onClick:()=>a({_id:null}),children:"X"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:"btn-primary",disabled:r,onClick(e){e.target.disabled=!0;let n=(null==h?void 0:h.Pokemon1)!==null;if(n){var a,t;if(p(e=>({...e,Pokemon2:l})),(null==h?void 0:null===(a=h.Pokemon1)||void 0===a?void 0:a.name)===l.name||(null==h?void 0:null===(t=h.Pokemon2)||void 0===t?void 0:t.name)===l.name){u(!0);return}}else p({Pokemon1:l})},children:(0,t.jsx)(d(),{src:"/images/icon-compare.svg",width:18,height:20,alt:"compare"})})})]})},u=function(e){let{apiOptions:n}=e,[a,l]=(0,s.useState)(null),i=e=>{let{_id:n}=e;if(null!==n){l(n);return}l(null)};return(0,t.jsx)("ul",{className:"card-list",children:n.map((e,n)=>{let s=null!==a&&a===e[2];return n<15&&(0,t.jsxs)("li",{className:"card",children:[(0,t.jsx)(d(),{src:e[1],alt:e[1],width:200,height:200,loading:"lazy"}),(0,t.jsx)("p",{children:e[0]}),(0,t.jsx)("button",{className:"height-card ".concat(s?"opacity-0":"btn-card"),onClick(){i({_id:e[2]})},children:"Info"}),s&&(0,t.jsx)(r,{id:a,handleCloseInfo:i})]},n)})})},h=function(e){var n,a,s,l,i,o,d,c,r;let{prop:u}=e;return(0,t.jsxs)("div",{className:"compareInfo-container",children:[(0,t.jsx)("p",{className:"compareInfo-name",children:null==u?void 0:u.name}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{children:["HP: ",null==u?void 0:u.hp," "]}),(0,t.jsx)("label",{className:null==u?void 0:null===(n=u.comparison)||void 0===n?void 0:n.hpClass,children:null==u?void 0:null===(a=u.comparison)||void 0===a?void 0:a.hp})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{children:["ATA: ",null==u?void 0:u.atk," "]}),(0,t.jsx)("label",{className:null==u?void 0:null===(s=u.comparison)||void 0===s?void 0:s.atkClass,children:null==u?void 0:null===(l=u.comparison)||void 0===l?void 0:l.atk})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{children:["DEF: ",null==u?void 0:u.def," "]}),(0,t.jsx)("label",{className:null==u?void 0:null===(i=u.comparison)||void 0===i?void 0:i.defClass,children:null==u?void 0:null===(o=u.comparison)||void 0===o?void 0:o.def})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{children:["VEL: ",null==u?void 0:u.speed," "]}),(0,t.jsx)("label",{className:null==u?void 0:null===(d=u.comparison)||void 0===d?void 0:d.speedClass,children:null==u?void 0:null===(c=u.comparison)||void 0===c?void 0:c.speed})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Media: "}),(0,t.jsx)("label",{children:null==u?void 0:null===(r=u.comparison)||void 0===r?void 0:r.media})]})]})},p=function(){let[e,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)({}),[o,c]=(0,s.useState)(""),{compare:r}=(0,s.useContext)(i),{Pokemon1:u,Pokemon2:p}=r,m=void 0!==u&&u,x=void 0!==u&&p,f=void 0!==u&&void 0!==p;console.log(r);let v=(0,s.useCallback)((e,n)=>{let a={Pokemon1:{...u,comparison:{atk:e.atk-n.atk,def:e.def-n.def,hp:e.hp-n.hp,speed:e.speed-n.speed,media:u.hp+u.atk+u.def+4*u.speed,atkClass:e.atk>n.atk?"compared-up":"compared-down",defClass:e.def>n.def?"compared-up":"compared-down",hpClass:e.hp>n.hp?"compared-up":"compared-down",speedClass:e.speed>n.speed?"compared-up":"compared-down"}},Pokemon2:{...p,comparison:{atk:n.atk-e.atk,def:n.def-e.def,hp:n.hp-e.hp,speed:n.speed-e.speed,media:n.hp+n.atk+n.def+4*n.speed,atkClass:n.atk>e.atk?"compared-up":"compared-down",defClass:n.def>e.def?"compared-up":"compared-down",hpClass:n.hp>e.hp?"compared-up":"compared-down",speedClass:n.speed>e.speed?"compared-up":"compared-down"}}};l(a)},[u,p]);return(0,s.useEffect)(()=>{if(f)return n(!1),v(u,p)},[u,p,f,v]),(0,t.jsxs)("section",{className:"compare-container",children:[f&&(0,t.jsxs)("div",{className:"card-comapre-body ".concat(o),children:[(0,t.jsx)("button",{className:"btn-secondary",onClick(){c("d-none")},children:"X"}),(0,t.jsx)(d(),{src:null==u?void 0:u.sprite_front,alt:null==u?void 0:u.name,width:60,height:60}),m&&(0,t.jsx)(h,{prop:a.Pokemon1}),x&&(0,t.jsx)(h,{prop:a.Pokemon2}),(0,t.jsx)(d(),{src:null==p?void 0:p.sprite_front,alt:null==p?void 0:p.name,width:60,height:60})]}),(0,t.jsxs)("div",{className:"card-comapre",children:[(0,t.jsx)("div",{children:m&&u.name}),(0,t.jsx)("button",{className:"btn-compare",disabled:e,onClick(){c("")},children:(0,t.jsx)(d(),{src:"/images/icon-compare.svg",width:18,height:18,alt:"compare"})}),(0,t.jsx)("div",{children:x&&p.name})]})]})},m={src:"/frontend-test-two/_next/static/media/loading.906dba3d.gif",height:247,width:292},x=function(){let{loading:e}=(0,s.useContext)(l);if(e)return(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)(d(),{src:m,width:200,height:200,alt:"loading",loading:"lazy"})})},f=function(e){let{apiRequest:n,hideBySearch:a}=e,[l,i]=(0,s.useState)(!0),[o,d]=(0,s.useState)(1),[c,r]=(0,s.useState)(["<",1,2,3,4,">"]),u=e=>{let[a,t]=[null],s=e.toString().includes("<")||e.toString().includes(">");if(d(e),!s){a="=".concat(15*e,"&"),t="https://pokeapi.co/api/v2/pokemon?offset=15&limit=15";let l=RegExp("=[0-9][0-9]&");t=t.replace(l,a)}if(s){let o=c.map(n=>">"===n?(i(!1),n):"<"===n?n:"<"===e?n-1:n+1);o.includes(1)&&i(!0),r(o);return}n(t)};return(0,t.jsx)("div",{className:"pagination-container ".concat(a),children:c.map((e,n)=>(0,t.jsx)("div",{children:n+1>1&&n+1<6?(0,t.jsx)("button",{className:"pagination-btn ".concat(o==e?"selected":""),onClick:()=>u(e),children:e}):n+1===1?(0,t.jsx)("button",{className:"pagination-btn",onClick:()=>u(e),disabled:l,children:e}):n+1===6?(0,t.jsx)("button",{className:"pagination-btn",onClick:()=>u(e),children:e}):""},n))})},v=function(e){let{handleApi:n}=e,[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(null);async function d(){await n("/"+a)}return(0,s.useEffect)(()=>{document.title="PESQUISAR"},[]),(0,t.jsxs)("div",{className:"search",children:[(0,t.jsx)("input",{type:"text",className:"search-input",placeholder:"Digite o nome de um pokemon",value:a,onChange:e=>l(e.target.value.toLocaleLowerCase())}),(0,t.jsx)("div",{className:"flex-row gap-2",children:(0,t.jsx)("button",{className:"search-btn",onClick:()=>d(),children:"PESQUISAR"})})]})},j=function(){let[e,n]=(0,s.useState)([]),[a,o]=(0,s.useState)(null),[r,h]=(0,s.useState)({Pokemon1:null,Pokemon2:null}),{setLoading:m}=(0,s.useContext)(l),x=(0,s.useCallback)(async e=>{await e.map(async e=>{await c(e.url).then(async e=>{n(n=>[...n,[e.name,e.sprites.front_default,e.id]])})})},[]),j=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n([]),m(!0),await c("https://pokeapi.co/api/v2/pokemon".concat(null!=e?e:"?offset=0&limit=16")).then(async a=>{null===e?await x(a.results):n([a.name,a.sprites.front_default,a.id]),m(!1)})},[m,x]);return(0,s.useEffect)(()=>{j()},[j]),(0,t.jsxs)(i.Provider,{className:"container",value:{compare:r,setCompare:h},children:[(0,t.jsx)(v,{handleApi:j}),(0,t.jsx)("h1",{className:"".concat(a),style:{textAlign:"center"},children:"LISTA DE POKEMONS"}),(0,t.jsx)(u,{apiOptions:e}),(0,t.jsx)(f,{hideBySearch:a}),null!==r.Pokemon1&&(0,t.jsx)(p,{}),(0,t.jsxs)("ul",{className:"social",children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.linkedin.com/in/flavio-leonardo-ads/",target:"_blank",children:(0,t.jsx)(d(),{src:"".concat("","/images/logo-linkedin.svg"),width:40,height:40,alt:"LinkedIn",loading:"lazy"})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://github.com/LeonardoMachado30",target:"_blank",children:(0,t.jsx)(d(),{src:"".concat("","/images/logo-github.svg"),width:40,height:40,alt:"GitHub",loading:"lazy"})})})]})]})},k=a(7297),g=a(9521);function b(){let e=(0,k.Z)(['\n  position: fixed;\n  bottom: 138px;\n  right: 10px;\n  z-index: 999;\n  background-image: url("/images/btn-dark.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  border: 0;\n  width: 80px;\n  height: 40px;\n']);return b=function(){return e},e}let w={dark:"dark-mode",light:""},C=(0,s.createContext)({theme:w.light,changeTheme(e){console.log(e)}}),N=g.ZP.button.withConfig({componentId:"sc-83dfc747-0"})(b());var S=function(){let[e,n]=(0,s.useState)(w.dark),[a,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{document.title="LISTA DE POKEMONS";let e=localStorage.getItem("theme");switch(e){case w.light:document.body.classList.remove("dark-mode");break;case w.dark:document.body.classList.add("dark-mode")}},[e]),(0,t.jsx)(C.Provider,{value:{theme:e},children:(0,t.jsx)(l.Provider,{value:{loading:a,setLoading:i},children:(0,t.jsxs)("section",{className:"container",children:[(0,t.jsx)(x,{}),(0,t.jsx)(N,{className:"darkMode-btn",value:e,onClick(e){!function(e){let n="dark-mode"===e?w.light:w.dark;localStorage.setItem("theme",n)}(e.target.value)}}),(0,t.jsx)(j,{})]})})})}}},function(e){e.O(0,[654,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);